C51 COMPILER V8.16   CH375                                                                 12/06/2010 23:01:01 PAGE 1   


C51 COMPILER V8.16, COMPILATION OF MODULE CH375
OBJECT MODULE PLACED IN CH375.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE CH375.C LARGE OMF2 BROWSE DEBUG

line level    source

   1          /* 2005.01.01
   2          ****************************************
   3          **  Copyright  (C)  W.ch  1999-2005   **
   4          **  Web:  http://www.winchiphead.com  **
   5          ****************************************
   6          **  KC7.0@MCS51                       **
   7          ****************************************
   8          */
   9          /* CH375фю╧ю╟Еящй╬ЁлпР: ящй╬USB-HOSTжВ╩З╫с©з╨мUSB-DEVICEиХ╠╦╫с©з╣дс╕сц */
  10          /* MCS-51╣╔ф╛╩ЗCсОят╣дй╬юЩЁлпР, ййсцсз89C52╩Руъ╦Э╢СЁлпР©у╪Д╣д╣╔ф╛╩З,р╡ййсцсзATMEL/PHILIPS/SST╣х╬ъсп1KBдз╡©
             -RAM╣д╣╔ф╛╩З */
  11          
  12          /* ╧ьсз╠╬ЁлпРжп╣дCH375жВ╩З╫с©з: HOST.C
  13                 ©ирта╛╫сUел, ж╖ЁжUелнд╪Чо╣мЁFAT12/FAT16/FAT32, хща©╡╩оч,
  14                 ╡ЕхКUел╨С, ╦цЁлпР╫╚Uелжп╣д/C51/CH375HFT.Cнд╪Чжп╣дг╟600╦Жвж╥Шотй╬ЁЖю╢,
  15                 хГ╧Шур╡╩╣╫т╜нд╪ЧCH375HFT.C, дгц╢╦цЁлпР╫╚отй╬C51всд©б╪обкЫспртCH375©╙м╥╣днд╪ЧцШ,
  16                 хГ╧Шур╡╩╣╫C51всд©б╪, дгц╢╦цЁлпР╫╚отй╬╦Ыд©б╪об╣дкЫспнд╪ЧцШ,
  17                 вН╨С╫╚ЁлпРROMжп╣др╩╦Жвж╥Ш╢╝п╢хКп╢хКпб╫╗╣днд╪Ч"NEWFILE.TXT"жп,
  18                 CH375╣дINT#рЩ╫е╡исц╡Ия╞╥╫й╫╢╕юМ, йЩ╬щ╦╢жф╥╫й╫н╙"╣╔DPTR╦╢жф", ╪ФхщптвН╨ц╣╚йгкы╤хвНбЩ,
  19                 ртвж╫зн╙╣╔н╩╤ап╢Uелнд╪Ч, ╤ап╢кы╤х╫оихгЬдёй╫бЩ, ╡╩пХр╙нд╪ЧйЩ╬щ╩╨ЁЕгЬFILE_DATA_BUF,
  20                 вэ╧╡ж╩пХр╙600вж╫з╣дRAM, ййсцсз╣╔ф╛╩Зс╡╪Чвйт╢споч║╒йЩ╬ща©п║╡╒гр╤ап╢кы╤хр╙гС╡╩╦ъ╣до╣мЁ,
  21                 ╪фкЦ╩З╤к©иртм╗╧Щ╢╝©з╪Ю©ь/╣Вйт╧╓╬ъхМ╪Чрт9600bps╡И©╢ящй╬гИ©Ж, р╡©иртй╧сцCH341╣д╢╝©з╧╓╬ъ╩РуъCH375дё©И╣
             -дящй╬╧╓╬ъ */
  22          /* ╧ьсз╠╬ЁлпРжп╣дCH375иХ╠╦╫с©з: DEVICE.C
  23                 ╡исцгКгС+с╕╢Пдёй╫м╗я╤╫А╧╧, г©╣В©и©©пт╨м╫╩╩╔пт, ╡╩в╥гС╢╚йДкы╤х,
  24                 ╪фкЦ╩З╤к©иртм╗╧ЩCH372/CH375╣д╣Вйт╧╓╬ъжп╣дMCS51╪Ю©ь╧╓╬ъЁлпРCH37XDBG.EXEй╣ож╤тMCS51╣╔ф╛╩З╣д"мЙх╚"©ьжф
             -,
  25                 ©ирт╤ап╢MCS51╣╔ф╛╩З╣дхнрБмБ╡©RAM║╒дз╡©RAMрт╪╟╬Ь╢С╤ЮйЩSFR, ╣╠х╩р╡дэ╧╩╫ЬппйЩ╬щм╗я╤ */
  26          /* ╧ьсзжВ╢сгп╩╩:
  27                 ╠╬ЁлпРд╛хо╧╓вВсзUSB-HOSTжВ╩З╥╫й╫, ╣╠спUSBиХ╠╦а╛╫сй╠вт╤╞╢╕юМ, пХр╙вВн╙USBиХ╠╦сК╪фкЦ╩Зм╗я╤й╠, ©ирт╟╢ф
             -ю╧ю╟Еио╣д╟╢е╔сижВЁлпР╫Ьппгп╩╩ */
  28          
  29          
  30          /* C51   CH375.C */
  31          /* C51   HOST.C */
  32          /* C51   DEVICE.C */
  33          /* LX51  CH375.OBJ, HOST.OBJ, DEVICE.OBJ, CH375HF6.LIB */
  34          /* OHX51 CH375 */
  35          
  36          
  37          #define         CH375HF_NO_CODE         1
  38          #include "CH375.H"
  39          
  40          /* н╙printf╨мgetkeyйДхКйДЁЖЁУй╪╩╞╢╝©з */
  41          void    mInitSTDIO( )
  42          {
  43   1              SCON = 0x50;
  44   1              //PCON = 0x80;
  45   1              TMOD = 0x21;
  46   1              TH1 = 0xfd;  /* 11.0592MHz╬╖уЯ, 9600bps */
  47   1              TR1 = 1;
  48   1              TI = 1;
  49   1      }
  50          
  51          
C51 COMPILER V8.16   CH375                                                                 12/06/2010 23:01:01 PAGE 2   

  52          
  53          main( ) {
  54   1      //      LED_OUT_INIT( );
  55   1      //      LED_OUT_ACT( );  /* ©╙╩З╨СLEDиак╦р╩обртй╬╧╓вВ */
  56   1      //      mDelaymS( 100 );  /* ясй╠100╨ацК */
  57   1      //      LED_OUT_INACT( );
  58   1              mDelaymS( 100 );
  59   1      
  60   1              mInitSTDIO( );  /* н╙акхц╪фкЦ╩Зм╗╧Щ╢╝©з╪Ю©ьящй╬╧ЩЁл */
  61   1              printf( "Start CH375 demo ...\n" );
  62   1      
  63   1              EA = 1;
  64   1              LED_OUT_ACT( );  /* LEDаартй╬╧╓вВ */
  65   1              while ( 1 ) {  /* сц╩╖╟╢╪Э╣╪жбUSBжВ╢сдёй╫ю╢╩ьгп╩╩ */
  66   2                      LED_HOST( );
  67   2                      printf( "Set USB host mode\n" );
  68   2                      host( );
  69   2              //      LED_DEVICE( );
  70   2              //      printf( "Set USB device mode\n" );
  71   2              //      device( );
  72   2              }
  73   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     51    ----
   CONSTANT SIZE    =     41    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
